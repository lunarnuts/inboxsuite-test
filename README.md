# inboxsuite-test
test project for employment at InboxSuite

#### Реализовать сервис который:

1. Подключается к БД и получает все данные из таблицы формируя кеш `map[classID uint8] roadmap uint8`
2. Подключается к rmq и читает сообщение  `struct {profileID int64, classID uint8}`
3. Обработка считанных сообщений происходит в N горутин, N задается флагом запуска
4. Обработка сообщений  заключается в сборке по имеющимся данным и отправке в rmq сообщения типа `struct {profileID int64, roadmapID uint8}`
5. Необходим счетчик для подсчета обработанных сообщений (эвентов).
    1. Каждые 10 эвентов нужно отправлять значение счетчика в rmq в отдельную очередь статистики.
    2. При завершении работы нужно отправлять финальное значение счетчика в очередь.
6. Выбор БД, нейминг таблиц и очередей с эксченджами - на усмотрение
7. Вопросы и результат на почту 
8. Результат в виде проекта в git

#### Пожелания

1. Разделить на слои кодовую базу
2. Логировать информацию о выполнении и ошибках
3. Готовое решение полностью развертывается и запускается, предпочтительно в docker compose

### Запуск

Для запуска нужен предустановленный docker.
```bash
   docker-compose -f deploy/local/docker-compose.yml up --build
```

Если есть Make:

```bash
   make docker-compose
```
